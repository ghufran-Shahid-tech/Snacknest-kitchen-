<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SnackNest Kitchen POS</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">

<style>
:root{--primary:#e76f00;--dark:#111;--bg:#f6f7fb}
*{box-sizing:border-box}
body{margin:0;font-family:Poppins;background:var(--bg);overflow:hidden}

/* Header */
header{background:var(--dark);color:#fff;padding:15px;text-align:center}

/* Container & Grid */
.container{max-width:1200px;margin:auto;padding:15px}
.grid{display:grid;grid-template-columns:1.2fr .8fr;gap:20px}
.card{background:#fff;border-radius:14px;padding:18px;box-shadow:0 8px 30px rgba(0,0,0,.08)}

/* Menu */
.menu-item{display:flex;justify-content:space-between;align-items:center;padding:10px;border-bottom:1px dashed #ddd}
.menu-item button{background:var(--primary);border:none;color:#fff;padding:6px 12px;border-radius:8px;cursor:pointer}

/* Bill */
.bill{padding:15px;border:2px solid #eee;border-radius:12px}
.bill table{width:100%;border-collapse:collapse;margin-top:10px}
.bill th,.bill td{padding:8px;border-bottom:1px solid #eee;font-size:14px;text-align:center}
.qty-btn{background:#ddd;border:none;padding:4px 8px;cursor:pointer}
.total{display:flex;justify-content:space-between;margin-top:6px}
.total.grand{font-size:18px;font-weight:600}
button.action{width:100%;margin-top:8px;padding:12px;border:none;border-radius:10px;font-size:15px;cursor:pointer}
.print{background:#111;color:#fff}
.clear{background:#ccc}

/* Add Menu */
.add-form{margin-top:10px;display:flex;gap:6px;pointer-events:none;opacity:0.4}
.add-form input{flex:1;padding:6px;border-radius:6px;border:1px solid #ccc}
.add-form button{padding:6px 12px;border:none;border-radius:6px;background:#0b8457;color:#fff;cursor:pointer}

/* Report */
.report{margin-top:20px}

/* Modal */
#adminModal{
  position:fixed;
  top:0; left:0;
  width:100%; height:100%;
  background:rgba(0,0,0,0.7);
  display:flex;
  justify-content:center;
  align-items:center;
  z-index:9999;
}
#adminModal .modal-content{
  background:#fff;
  padding:30px;
  border-radius:12px;
  text-align:center;
  width:300px;
}
#adminModal input{
  width:100%;
  padding:8px;
  margin-top:12px;
  border-radius:6px;
  border:1px solid #ccc;
  font-size:14px;
}
#adminModal button{
  margin-top:15px;
  width:100%;
  padding:10px;
  border:none;
  background:var(--primary);
  color:#fff;
  font-size:15px;
  border-radius:6px;
  cursor:pointer;
}

/* PRINT */
@media print{
 header,.grid .card:first-child,.report,button,.add-form{display:none!important}
 .bill{border:none;box-shadow:none}
 .bill th,.bill td{border-bottom:1px dashed #000;font-size:12px}
 .total.grand{border-top:2px solid #000;padding-top:6px}
}
</style>
</head>
<body>

<!-- Header -->
<header>
<h1>üçΩÔ∏è SnackNest Kitchen</h1>
<p>POS Billing System</p>
</header>

<div class="container">
<div class="grid">

<!-- MENU -->
<div class="card">
<h2>üìã Food Menu</h2>
<div id="menu"></div>

<div id="adminPanel" class="add-form">
<input type="text" id="newItemName" placeholder="Item Name">
<input type="number" id="newItemPrice" placeholder="Price">
<button onclick="addNewMenuItem()">‚ûï Add Menu</button>
</div>
</div>

<!-- BILL -->
<div class="card bill">
<h2 style="text-align:center">üßæ SnackNest Kitchen</h2>
<p style="text-align:center;font-size:12px">Thank You For Your Order ‚ù§Ô∏è</p>

<table>
<thead>
<tr><th>Item</th><th>Qty</th><th>Amount</th><th>Action</th></tr>
</thead>
<tbody id="billItems"></tbody>
</table>

<div class="total"><span>Subtotal</span><span id="sub">PKR 0</span></div>
<div class="total"><span>Tax (5%)</span><span id="tax">PKR 0</span></div>
<div class="total grand"><span>Total</span><span id="total">PKR 0</span></div>

<button class="action print" onclick="printBill()">üñ®Ô∏è Print Bill</button>
<button class="action clear" onclick="clearBill()">üóëÔ∏è Clear Bill</button>
</div>

</div>

<div class="card report">
<h2>üìä Daily Sales</h2>
<table>
<thead><tr><th>Time</th><th>Total</th></tr></thead>
<tbody id="report"></tbody>
</table>
</div>
</div>

<!-- Admin Modal -->
<div id="adminModal">
  <div class="modal-content">
    <h2>Admin Login</h2>
    <input type="password" id="adminPasswordInput" placeholder="Enter Password">
    <button onclick="checkAdminPassword()">Enter</button>
  </div>
</div>

<script>
const ADMIN_PASSWORD="Snacknest01"; // üîë Admin Password

let menuData=[
{name:"Fried Rice (Veg)",price:200},
{name:"Fried Rice (Chicken)",price:250},
{name:"Zinger Burger",price:350},
{name:"Shawarma",price:170},
{name:"Chow Mein",price:250},
{name:"French Fries",price:150},
{name:"Momos",price:200}
];

let cart={};
const menuDiv=document.getElementById("menu");
const adminPanel=document.getElementById("adminPanel");
const adminModal=document.getElementById("adminModal");

// ‚úÖ LOCKING MODAL
function checkAdminPassword(){
  const val=document.getElementById("adminPasswordInput").value;
  if(val===ADMIN_PASSWORD){
    adminPanel.style.pointerEvents="auto";
    adminPanel.style.opacity="1";
    adminModal.style.display="none";
    document.body.style.overflow="auto"; // allow scrolling
    renderMenu();
    loadReport();
    alert("Admin Access Granted ‚úÖ");
  } else {
    alert("Wrong Password ‚ùå");
    document.getElementById("adminPasswordInput").value="";
    document.getElementById("adminPasswordInput").focus();
  }
}

// Disable all content until admin logs in
document.body.style.overflow="hidden";

// RENDER MENU & BILL
function renderMenu(){
 menuDiv.innerHTML="";
 menuData.forEach(item=>{
   menuDiv.innerHTML+=`
   <div class="menu-item">
     <span>${item.name} ‚Äì PKR ${item.price}</span>
     <button onclick="addItem('${item.name}',${item.price})">Add</button>
   </div>`;
 });
}

function addItem(name,price){
 if(!cart[name]) cart[name]={qty:0,price};
 cart[name].qty++;
 renderBill();
}

function changeQty(name,delta){
 cart[name].qty+=delta;
 if(cart[name].qty<=0) delete cart[name];
 renderBill();
}

function renderBill(){
 const tbody=document.getElementById("billItems");
 tbody.innerHTML="";
 let subtotal=0;
 for(let name in cart){
   const i=cart[name];
   const t=i.qty*i.price;
   subtotal+=t;
   tbody.innerHTML+=`
   <tr>
     <td>${name}</td>
     <td>${i.qty}</td>
     <td>${t}</td>
     <td>
       <button class="qty-btn" onclick="changeQty('${name}',1)">+</button>
       <button class="qty-btn" onclick="changeQty('${name}',-1)">-</button>
     </td>
   </tr>`;
 }
 const tax=subtotal*0.05;
 document.getElementById("sub").innerText="PKR "+subtotal;
 document.getElementById("tax").innerText="PKR "+tax.toFixed(0);
 document.getElementById("total").innerText="PKR "+(subtotal+tax).toFixed(0);
}

function addNewMenuItem(){
 const name=newItemName.value.trim();
 const price=parseFloat(newItemPrice.value);
 if(name && price){
   menuData.push({name,price});
   newItemName.value="";
   newItemPrice.value="";
   renderMenu();
 }
}

function printBill(){saveReport();window.print();}
function clearBill(){cart={};renderBill();}

function saveReport(){
 const list=JSON.parse(localStorage.getItem("sales")||"[]");
 list.push({time:new Date().toLocaleTimeString(),total:total.innerText});
 localStorage.setItem("sales",JSON.stringify(list));
 loadReport();
}

function loadReport(){
 const list=JSON.parse(localStorage.getItem("sales")||"[]");
 const r=document.getElementById("report");
 r.innerHTML="";
 list.forEach(s=>r.innerHTML+=`<tr><td>${s.time}</td><td>${s.total}</td></tr>`);
}

</script>
</body>
</html>
