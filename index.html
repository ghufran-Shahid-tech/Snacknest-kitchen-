<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SnackNest Kitchen POS</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
<style>
:root{
  --primary:#e76f00;
  --dark:#111;
  --bg:#f6f7fb;
}
*{box-sizing:border-box;}
body{
  margin:0;
  font-family:Poppins;
  background:var(--bg);
  overflow:hidden;
}
header{
  background:var(--dark);
  color:#fff;
  padding:14px;
  text-align:center;
}
header h1{margin:0;font-size:18px;}
header p{margin:3px 0;font-size:12px;}

.container{max-width:1200px;margin:auto;padding:10px;}
.grid{display:grid;grid-template-columns:1.2fr .8fr;gap:12px;}

.card{
  background:#fff;
  border-radius:14px;
  padding:14px;
  box-shadow:0 6px 20px rgba(0,0,0,.08);
}

.menu-item{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:8px 0;
  border-bottom:1px dashed #ddd;
  font-size:14px;
}
.menu-item button{
  background:var(--primary);
  border:none;
  color:#fff;
  padding:5px 12px;
  border-radius:6px;
  font-size:12px;
  cursor:pointer;
}

/* DELIVERY NOTE IN MENU */
.delivery-note{
  margin-top:12px;
  padding-top:10px;
  border-top:2px dashed #ddd;
  font-size:13px;
}
.delivery-note h4{
  margin:0 0 6px;
  font-size:14px;
}
.delivery-note button{
  margin:2px 4px 2px 0;
  padding:4px 8px;
  border:none;
  background:#0b8457;
  color:#fff;
  border-radius:6px;
  font-size:13px;
  cursor:pointer;
}

/* BILL */
.bill-header{
  text-align:center;
}
.bill-header img{
  width:80px; /* bigger logo */
  margin-bottom:8px;
}
.bill-header h3{
  margin:4px 0;
  font-size:24px; /* bigger */
  font-weight:700; /* bold */
  letter-spacing:1px;
}
.bill-header p{
  font-size:12px;
  margin:2px 0;
}

.bill table{
  width:100%;
  border-collapse:collapse;
  margin-top:8px;
  font-size:12px;
}
.bill th,.bill td{
  padding:6px;
  border-bottom:1px solid #eee;
  text-align:center;
}
.qty-btn{
  background:#ddd;
  border:none;
  padding:3px 6px;
  font-size:12px;
  cursor:pointer;
}

.total{
  display:flex;
  justify-content:space-between;
  margin-top:4px;
  font-size:13px;
}
.total.grand{
  font-size:15px;
  font-weight:600;
  border-top:2px dashed #000;
  padding-top:6px;
}

button.action{
  width:100%;
  margin-top:6px;
  padding:10px;
  border:none;
  border-radius:8px;
  font-size:14px;
  cursor:pointer;
}
.print{background:#111;color:#fff;}
.clear{background:#ccc;}

.add-form{
  margin-top:10px;
  display:flex;
  gap:6px;
  flex-wrap:wrap;
  pointer-events:none;
  opacity:.4;
}
.add-form input{
  flex:1;
  padding:6px;
  border-radius:6px;
  border:1px solid #ccc;
}
.add-form button{
  background:#0b8457;
  color:#fff;
  border:none;
  border-radius:6px;
  padding:6px 12px;
}

/* ADMIN MODAL */
#adminModal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.7);
  display:flex;
  justify-content:center;
  align-items:center;
  z-index:999;
}
.modal-content{
  background:#fff;
  padding:25px;
  border-radius:14px;
  width:90%;
  max-width:300px;
  text-align:center;
}
.modal-content input{
  width:100%;
  padding:8px;
  margin:10px 0;
}
#mainContent.blur{filter:blur(6px);}

/* PRINT */
@media print{
  header,.menu,.add-form,.report,button{display:none!important;}
  body{background:#fff;}
  .bill{box-shadow:none;border:none;}
}

/* RESPONSIVE */
@media(max-width:600px){
  .grid{grid-template-columns:1fr;}
}
</style>
</head>

<body>

<div id="mainContent">

<header>
  <h1>üçΩÔ∏è SnackNest Kitchen</h1>
  <p>POS Billing System</p>
</header>

<div class="container">
<div class="grid">

<!-- MENU -->
<div class="card menu">
<h3>üìã Food Menu</h3>
<div id="menu"></div>

<!-- DELIVERY CHARGES BUTTONS -->
<div class="delivery-note">
  <h4>üöö Select Delivery Area</h4>
  <button onclick="setDelivery(50)">Musharaf Colony ‚Äî PKR 50</button>
  <button onclick="setDelivery(150)">Naval ‚Äî PKR 150</button>
  <button onclick="setDelivery(200)">Gulshan-e-Masdoor ‚Äî PKR 200</button>
  <button onclick="setDelivery(200)">L Pati ‚Äî PKR 200</button>
  <button onclick="setDelivery(200)">Army Base ‚Äî PKR 200</button>
</div>

<div id="adminPanel" class="add-form">
  <input id="newItemName" placeholder="Item Name">
  <input id="newItemPrice" type="number" placeholder="Price">
  <button onclick="addNewMenuItem()">Add</button>
</div>
</div>

<!-- BILL -->
<div class="card bill">
<div class="bill-header">
  <img src="logo.png" alt="SnackNest Logo">
  <h3>SnackNest Kitchen</h3>
  <p id="billDate"></p>
  <p><strong>Token #</strong> <span id="tokenNo"></span></p>
</div>

<table>
<thead>
<tr><th>Item</th><th>Qty</th><th>Amount</th><th>Action</th></tr>
</thead>
<tbody id="billItems"></tbody>
</table>

<div class="total"><span>Subtotal</span><span id="sub">PKR 0</span></div>
<div class="total"><span>Delivery Charges</span><span id="delivery">PKR 50</span></div>
<div class="total grand"><span>Total</span><span id="total">PKR 0</span></div>

<button class="action print" onclick="printBill()">üñ®Ô∏è Print Bill</button>
<button class="action clear" onclick="clearBill()">üóëÔ∏è Clear</button>
</div>

</div>

<!-- REPORT -->
<div class="card report">
<h3>üìä Daily Sales</h3>
<table>
<thead><tr><th>Time</th><th>Total</th></tr></thead>
<tbody id="report"></tbody>
</table>
</div>

</div>
</div>

<!-- ADMIN LOGIN -->
<div id="adminModal">
<div class="modal-content">
<h3>Admin Login</h3>
<input type="password" id="adminPasswordInput" placeholder="Password">
<button onclick="checkAdminPassword()">Login</button>
</div>
</div>

<script>
const ADMIN_PASSWORD="123";
let deliveryCharge = 50; // default delivery
let tokenCounter = Number(localStorage.getItem("token")) || 1;

let menuData=[
{name:"Fried Rice (Veg)",price:200},
{name:"Fried Rice (Chicken)",price:250},
{name:"Zinger Burger",price:350},
{name:"Shawarma",price:170},
{name:"Chow Mein",price:250},
{name:"French Fries",price:150},
{name:"Momos",price:200}
];

let cart={};

const menuDiv=document.getElementById("menu");
const adminPanel=document.getElementById("adminPanel");
const adminModal=document.getElementById("adminModal");
const mainContent=document.getElementById("mainContent");

window.onload=()=>{
  mainContent.classList.add("blur");
  setBillInfo();
};

function setBillInfo(){
  document.getElementById("billDate").innerText = new Date().toLocaleString();
  document.getElementById("tokenNo").innerText = tokenCounter;
}

function checkAdminPassword(){
  if(adminPasswordInput.value===ADMIN_PASSWORD){
    adminPanel.style.pointerEvents="auto";
    adminPanel.style.opacity="1";
    adminModal.style.display="none";
    mainContent.classList.remove("blur");
    renderMenu();
    loadReport();
  }else alert("Wrong Password");
}

function renderMenu(){
  menuDiv.innerHTML="";
  menuData.forEach(i=>{
    menuDiv.innerHTML+=`
    <div class="menu-item">
      <span>${i.name} - PKR ${i.price}</span>
      <button onclick="addItem('${i.name}',${i.price})">Add</button>
    </div>`;
  });
}

function addItem(name,price){
  if(!cart[name]) cart[name]={qty:0,price};
  cart[name].qty++;
  renderBill();
}

function changeQty(name,d){
  cart[name].qty+=d;
  if(cart[name].qty<=0) delete cart[name];
  renderBill();
}

// Clickable delivery charge button
function setDelivery(amount){
  deliveryCharge = amount;
  renderBill();
}

function renderBill(){
  billItems.innerHTML="";
  let subtotal=0;

  for(let n in cart){
    let i=cart[n];
    let t=i.qty*i.price;
    subtotal+=t;
    billItems.innerHTML+=`
    <tr>
      <td>${n}</td>
      <td>${i.qty}</td>
      <td>${t}</td>
      <td>
        <button class="qty-btn" onclick="changeQty('${n}',1)">+</button>
        <button class="qty-btn" onclick="changeQty('${n}',-1)">-</button>
      </td>
    </tr>`;
  }

  let total=subtotal + deliveryCharge;
  document.getElementById("sub").innerText="PKR "+subtotal;
  document.getElementById("delivery").innerText="PKR "+deliveryCharge;
  document.getElementById("total").innerText="PKR "+total;
}

function addNewMenuItem(){
  if(newItemName.value && newItemPrice.value){
    menuData.push({name:newItemName.value,price:+newItemPrice.value});
    newItemName.value=newItemPrice.value="";
    renderMenu();
  }
}

function printBill(){
  saveReport();
  window.print();
  tokenCounter++;
  localStorage.setItem("token",tokenCounter);
  setBillInfo();
}

function clearBill(){
  cart={};
  renderBill();
}

function saveReport(){
  let list=JSON.parse(localStorage.getItem("sales")||"[]");
  list.push({time:new Date().toLocaleTimeString(),total:total.innerText});
  localStorage.setItem("sales",JSON.stringify(list));
  loadReport();
}

function loadReport(){
  let list=JSON.parse(localStorage.getItem("sales")||"[]");
  report.innerHTML="";
  list.forEach(s=>{
    report.innerHTML+=`<tr><td>${s.time}</td><td>${s.total}</td></tr>`;
  });
}
</script>

</body>
</html>
